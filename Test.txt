<!doctype html>
<html>
<head>
    <title>TF.js Test</title>
    <!-- 
    <script src="tf-layers.js"></script>
    <script src="tf-core.js"></script>
    <script src="tf.js"></script>
    -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
    <script type="text/javascript">
    
    
	    const DB_NAME = 'MyTestDatabase';
	    const DB_VERSION =3; // Use a long long for this value (don't use a float)
	    const DB_STORE_NAME = 'tests';
	    var db;
	    var request = indexedDB.open(DB_NAME,DB_VERSION);
	    
	    request.onerror = function(event) {
	      alert("Why didn't you allow my web app to use IndexedDB?!");
	    };
	    request.onsuccess = function(event) {
	    	db = request.result;
	        console.log("openDb DONE");
	    };
	    
	    
	    request.onupgradeneeded = function(event) { 
	   	  // Save the IDBDatabase interface 
	   	  
	   	  db = event.target.result;
	   	  // Create an objectStore for this database
	   	  var objectStore = db.createObjectStore(DB_STORE_NAME, { keyPath: 'id', autoIncrement: true });
	      objectStore.createIndex("economy", "economy", { unique: false });
	      objectStore.createIndex("preview", "preview", { unique: false });
	      objectStore.createIndex("politics", "politics", { unique: false });
	   	};
	    
	   	
	   	function getObjectStore(store_name, mode) {
	   	    var tx = db.transaction(store_name, mode);
	   	    return tx.objectStore(store_name);
	   	}
	    
	   	function adds(){
	   		
		    var store = getObjectStore(DB_STORE_NAME,'readwrite');
		    
		    req = store.add({economy:'1',preview:'2',politics:'2'});
		    
		    req.onsuccess = function (evt) {
		        console.log("Insertion in DB successful");
		      };
		      req.onerror = function() {
		        console.error("addPublication error", this.error);
		        displayActionFailure(this.error);
		      };
	   	}
	   	
	   	
	   	function lists(){
	   		store = getObjectStore(DB_STORE_NAME, 'readonly');
	   		//req = store.count();
	   		
	   		req = store.openCursor();
	   	    req.onsuccess = function(evt) {
	   	      var cursor = evt.target.result;
	   	      // If the cursor is pointing at something, ask for the data
	   	      if (cursor) {
	   	        console.log("displayPubList cursor:", cursor);
	   	        req = store.get(cursor.key);
	   	        req.onsuccess = function (evt) {
	   	          var value = evt.target.result;
		   	       console.log("xs :", value.xs);
		   	  	   console.log("ys :", value.ys);
		   	  		console.log("ys :", value.ys);
	   	        };
	   	        // Move on to the next object in store
	   	        cursor.continue();
	   	        // This counter serves only to create distinct ids
	   	      } else {
	   	        console.log("No more entries");
	   	      }
	   	    };
	   		
	   	}
	   	
	   	
	   	
            
	   	async function initTF() {
	   		const model = tf.sequential();
	   		 model.add(tf.layers.dense({units: 8, inputShape: [1]}));
		   	 model.add(tf.layers.dense({units: 4, activation: 'relu6'}));
		   	 model.add(tf.layers.dense({units: 1, activation: 'relu6'}));
		   	 model.add(tf.layers.dense({units: 3, activation: 'softmax'}));
				

		   	model.compile({optimizer: 'sgd', loss: 'meanSquaredError'});
		   	
		   	const history = await model.fit(tf.ones([1, 1]), tf.ones([1, 3]), {
		   	  batchSize: 1,
		   	  epochs: 1
		   	});
		   	
		   	 model.predict(tf.randomNormal([10, 1])).print();
		   	 
	   	}
        
    </script>
</head>
<body>

<!-- 	
	<input type="button" id="" value="tensor" onclick="initTF()" />
    <input type="button" id="" value="add" onclick="adds()" />
    <input type="button" id="" value="list" onclick="lists()" />
    <br>
     <input type="button" id="" value="economy" />
     
     <input type="button" id="" value="preview" />
      
     <input type="button" id="" value="politics" />
      -->
     <table border = '1' width = '300' height= '100'>
     	<tr> 
     		<td colspan='4' align = 'center'>시사이미지</td> 
     	</tr>
     	<tr> 
     		<td><a href="#">시사뉴스1</a></td>
     		<td><a href="#">시사뉴스2</a></td>
     		<td><a href="#">시사뉴스3</a></td>
     		<td><a href="#">시사뉴스4</a></td>
     	</tr>
     </table>
     <br/>
     <br/>
     <br/>
     
     <table border = '1' width = '200' height= '200'>
     	<tr>
     		<td><a href="#">경제뉴스1</td> 
     		<td colspan='2' rowspan='2' align = 'center'>경제이미지</td>
     		<td><a href="#">경제뉴스2</td> 
     	</tr>
     	<tr> 
     		<td><a href="#">시사뉴스3</td>
     		<td><a href="#">시사뉴스4</td>
     	</tr>
     </table>
     
	<br/>
     <br/>
     <br/>
     
     <table border = '1' width = '300' height= '100'>
     	<tr> 
     		<td><a href="#">정치뉴스1</a></td>
     		<td><a href="#">정치뉴스2</a></td>
     		<td><a href="#">정치뉴스3</a></td>
     		<td><a href="#">정치뉴스4</a></td>
     	</tr>
     	<tr> 
     		<td colspan='4' align = 'center'>정치이미지</td> 
     	</tr>
     </table>   
     
</html>
