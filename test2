A First Look at Deep Learning Apps on Smartphones

우리는 스마트폰의 딥러닝 폭발의 여명에 있다.
연구와 관행의 차이를 메우기 위해 스마트폰 앱이 야생에서 심층 학습을 어떻게 활용하는지 개략적으로 설명하면서 가장 인기 있는 안드로이드 앱 16,500개에 대한 최초의 경험적 연구를 제시한다. 이를 위해 앱을 해부하고 이들의 심층 학습 기능을 분석하는 새로운 정적 툴을 구축한다. 우리의 연구는 세 가지 질문에 답한다: 딥러닝의 얼리 어답터 앱은 무엇인가, 딥러닝은 무엇을 위해 사용하는가, 딥러닝 모델은 어떻게 보이는가. 우리의 연구는 앱 개발자, 스마트폰 판매자, 그리고 딥러닝 R&D에 강한 영향을 미친다. 한편, 우리의 연구결과는 스마트폰에 대한 깊은 학습의 유망한 모습을 그려내며, 모바일 딥러닝 프레임워크의 번영과 딥러닝의 정상에 핵심이 되는 앱의 번영을 보여준다. 한편, 우리의 연구결과는 스마트폰에 구축된 딥러닝 모델에 대한 최적화, 이러한 모델의 보호, 이러한 모델에 대한 연구 아이디어의 검증 등을 촉구한다.

1.
어디서나 볼 수 있는 스마트폰은 최근 몇 년간 모바일 인텔리전스를 향한 핵심 자극인 DL(Deep Learning) 플랫폼 중 가장 유망하다[3, 6, 8, 28]. 이러한 거대 시장은 최신 신경망(NN) 하드웨어의 도입[48, 50, 60, 107], DL 알고리즘의 mprovement[56, 81, 86, 94], 대규모 정보 분석의 침투 증가[52, 57, 83, 85] 등 DL의 지속적인 발전에 의해 주도된다. 연구 커뮤니티는 수많은 DL 기반 소설 앱을 만들었다[46, 72, 73, 80, 87, 106]. 업계도 DL을 모바일 제품에 활용하기 위해 노력해왔다. 예를 들어, 새로 출시된 Android 9 Pie OS에서 Google은 텍스트에서 특정 유형의 엔티티가 감지될 때 클릭 가능한 링크를 추가하는 유용한 API인 Smart Linkify를 활성화하기 위해 작은 피드 포워드 NN 모델을 도입한다[39].

2017년은 스마트폰 DL의 동이 트는 해였다. 거의 동시에 대부분의 주요 공급업체들은 스마트폰용 DL 프레임워크, 즉 모바일 DL 프레임워크를 출시한다. 이 프레임워크는 구글[38] (2017년 11월), 페이스북[9] (2017년 4월), 애플의 코어 ML[12] (2017년 6월), 텐센트[36] (2017년 6월), 바이두[25] (2017년 9월)의 MDL 등이다. 스마트폰으로만 DL 추론을 실행하는 것도 같은 목표다. DL 추론을 스마트폰에서 클라우드로 오프로드한 것에 비해 [2, 20, 22], 기기 내 DL 추론은 사용자의 프라이버시를 더 잘 보호하고, 인터넷 연결이 좋지 않은 상황에서도 계속 작동하며, 앱 작성자가 클라우드에서 DL을 실행하는 데 드는 비용을 지불하지 않도록 한다[48, 67, 70, 71, 71, 73, 78, 107].

DL 프레임워크 폭발에 이어 DL 기법을 채택하는 스마트폰 앱의 첫 물결이 일었다. 이러한 앱과 특히 DL을 사용하는 방법을 이해하는 것이 중요하다고 생각하는데, 이는 그러한 초기 채택자들이 우리의 경우 신기술의 진화를 결정하거나 또는 심지어 결정한다는 것을 역사가 증명했기 때문이다[90] – 스마트폰 DL.

이를 위해 실제 안드로이드 앱이 어떻게 DL 기법을 이용하는지에 대한 최초의 경험적 연구를 제시한다. 본 연구는 DL을 채택한 앱의 특징, DL을 사용하는 용도, DL 모델 등 세 가지 질문에 대한 답을 찾고 있다. 본질적으로, 우리의 연구는 어떻게 DL이 야생과 야생에서 스마트폰 앱에서 사용되고 있는지에 대한 연구 결과를 목표로 한다. 
Mobile DL 연구와 실행 사이의 중요한 격차를 메우는 것, 시사점. 이번 연구를 위해 공식 구글 플레이 시장에서 나온 안드로이드 앱의 대규모 세트를 조사했다. 2018년 6월 초와 2018년 9월 초(3개월 간격으로) 앱 시장의 스냅 사진을 각각 두 장씩 찍는다. 각 스냅샷은 Google Play에 나열된 33개의 범주를 포함하는 가장 인기 있는 앱 16,500개로 구성되어 있다. 우리는 개별 앱을 검사하고 두 개의 스냅샷을 비교함으로써 통찰력을 창출한다. 수많은 안드로이드 앱의 분석을 자동화하기 위해 앱 설치 패키지를 검사하고, DL(이중형 "DL 앱")을 사용하는 앱을 식별하며, 검사를 위해 이들 앱에서 DL 모델을 추출하는 새로운 분석기를 구축한다. 그러한 도구를 실현하기 위해, 우리는 특정 코드 패턴을 찾는 것을 회피하고 대신 대부분의 DL 앱이 DL 프레임워크 위에서 개발된다는 근거에 기초하여 알려진 DL 프레임워크의 사용을 확인한다. 우리의 주요 연구 결과는 다음과 같이 요약된다.

얼리 어답터들은 상위 앱(제4.2조)이다. 우리는 2018년 9월에 수집된 앱 집합에서 211개의 DL 앱을 발견했다. 전체 앱의 1.3%에 불과한 DL앱은 전체 앱 다운로드의 11.9%와 전체 리뷰의 10.5%를 일괄적으로 기여하고 있다. 2018년 9월, 221개의 DL 앱을 약 13,000회 다운로드하여 9,600,000건의 리뷰를 받는다. DL 앱은 빠르게 성장하여 3개월 동안 27%의 증가율을 보이고 있다.

DL은 핵심 빌딩 블록(제4.3조)으로 사용된다. 우리는 81%의 DL 앱이 핵심 기능을 지원하기 위해 DL을 사용하고 있음을 발견한다. 즉, 이러한 앱은 DL을 사용하지 않으면 작동하지 않게 된다. 이러한 DL 앱의 수는 3개월 동안 23% 증가했다.

포토뷰티(Photo veauty)는 상위 사용법(§4.3) DL은 에모지 예측 및 음성 인식과 같이, 우리가 발견한 용도에 의해 확인되는 대로, 다양한 애플리케이션으로 알려져 있다. 이 중 포토뷰티가 가장 많이 사용되는 경우는 94개(44.5%) DL앱이 포토뷰티용으로 DL을 사용하고, 61개(29%) DL앱이 사진 카테고리에서 나왔다.

모바일 DL 프레임워크가 견인력을 얻고 있다(제4.4조) 텐서플로 같은 완전한 DL 프레임워크는 모멘텀으로 인해 여전히 DL 앱들 사이에서 인기가 있는 반면, 제한된 자원에 대해 설계되고 최적화된 DL 프레임워크는 점점 더 인기를 끌고 있다. 예를 들어, TFLite를 사용하는 DL 앱의 수는 3개월 동안 258% 증가했다.

대부분의 DL 모델은 명백한 최적화를 놓친다. (제5.2조) 예를 들어 정확성 손실이 거의 없는 최대 2단계까지 DL 비용을 줄일 수 있는 정량화 같은 잘 알려진 최적화에도 불구하고, 그러한 최적화와 함께 제공되는 DL 모델은 6%에 불과하다[61]. 

온 디바이스 DL은 예상하는 것보다 가볍다.(제5.3조) DL 모델의 동력은 풍부한 매개변수와 깊은 계층에서 나온다는 일반적인 믿음에도 불구하고, 애플리케이션에서 사용되는 DL 모델은 중간 메모리 사용량 2.47MB와 10M FLOPs의 추론 연산으로, 일반적으로 수십 밀리초의 지연을 유발한다. 이러한 모델은 서버의 전체 모델(예: 200MB 메모리 및 4G FLOP의 추론 연산)보다 훨씬 가벼울 뿐만 아니라 스마트폰용으로 특별히 제작된 잘 알려진 모델(예: 54MB 메모리를 가진 MobileNet 및 500M FLOPs 추론 연산)보다 가볍다.

DL 모델은 제대로 보호되지 않는다. (제5.4조) 발견된 모델은 39.2%만 난독화되고 19.2%는 암호화된다.나머지 모델은 추출하기에 사소한 것이므로 무단 재사용이 발생할 수 있다.

시사점 요약: 전반적으로, 우리의 연구 결과는 스마트폰에 DL의 유망한 그림을 그려, 미래의 연구개발에 동기를 부여한다. 특히, 연구결과는 모바일 DL 생태계의 여러 이해당사자들에게 강한 시사점을 보여준다. 앱 개발자들에게: 우리의 연구 결과는 DL이 스마트폰에서 매우 저렴할 수 있다는 것을 보여준다; 개발자들은, 특히 개인이나 소기업은 자신의 앱에 DL을 배치하는 것에 대해 더 확신을 가져야 한다; 관심 있는 개발자들은 모바일 DL 프레임워크 위에 DL 기능을 구축하는 것을 고려해야 한다; 특히 사진술과 같은 몇몇 앱 카테고리는 B가 될 가능성이 가장 높다.DL 기법으로 설명하다 DL 프레임워크 개발자들에게 : 우리의 연구결과는 스마트폰에 최적화된 프레임워크의 지속적인 개발을 장려하고, 우리의 연구결과는 또한 프레임워크의 제1종 관심사로서 모델 보호의 긴급한 필요성을 보여준다. 하드웨어 설계자에게 : 당사의 연구결과는 DL 가속기 설계에 동기를 부여하여 모바일 DL 모델에서 인기 있는 레이어를 우선시한다. DL 연구원들에게: 우리의 연구 결과는 DL 추론을 최적화하기 위한 새로운 제안이 야생에서 스마트폰에 광범위하게 배치되는 것을 보는 경량 모델에서 검증되어야 한다고 제안한다.

요약하면, 우리의 기여는 다음과 같다.
- 우리는 Android 앱에서 DL 채택 분석을 위한 도구를 설계하고 구현한다. Android 앱에서 DL 사용량을 파악하고, 검사를 위해 해당 DL 모델을 추출할 수 있는 툴은 DL용 앱의 자동 분석을 가능하게 한다.

- 우리는 그들의 DL 채택을 위한 16,500개의 Android 앱에 대한 첫 번째 대규모 연구를 수행한다. 경험적 분석을 통해 DL 기법을 채택하는 제1의 물결의 앱에 대해 새로운 발견을 공헌한다. 스마트폰용 DL이 폭발하는 새벽, 우리의 연구결과는 모바일 생태계의 주요 이해 당사자들에게 중요한 의미를 부여하고 스마트폰용 DL의 진화를 조명한다. 우리는 우리의 툴과 데이터셋을 홍보할 계획이다.

그 논문의 나머지 부분은 다음과 같이 정리되어 있다. 우리는 배경 지식과 우리의 동기를 섹션 2에서 설명한다. 우리는 3절에서 DL 사용법을 확인하고 DL 모델을 추출하는 데 도움이 되는 연구 목표와 분석 도구를 제시한다. 우리는 DL 앱과 DL 모델의 분석 결과를 섹션 4와 섹션 5에 각각 제시한다. 우리는 섹션 6에서 제한사항과 가능한 향후 작업에 대해 논의한다. 우리는 섹션 7에서 관련 작업을 조사하고 섹션 8에서 결론을 내린다.


2. BACKGROUND

DL 모델과 프레임워크 DL은 알고리즘 정확도의 상당한 향상을 통해 컴퓨터 시각과 자연 언어 처리 등 많은 AI 과제에 혁신을 가져왔다. 실제로 DL 알고리즘은 2개의 주요 부분으로 배치된다. 첫 번째 모델은 DL 모델로서, 예를 들어 콘볼루션 레이어, 풀링 레이어, 완전 연결 레이어 등 다양한 유형의 뉴런 레이어로 구성되는 경우가 많다. DL 모델은 구성 레이어와 그 조직에 기초해, 예를 들어, 콘볼루션 레이어를 포함하는 CNN(Convolutional Neural Network)과 반복적인 하위 아키텍처를 가진 순차 입력을 처리하는 RNN(Recurrent Neural Network)과 같은 서로 다른 범주로 분류된다. 두 번째 부분은 DL 모델(즉, 교육)을 생산하고 입력 데이터(즉, 추론)를 통해 모델을 실행하는 DL 프레임워크다. 생산 DL 프레임워크에는 엄청난 엔지니어링 노력이 수반되는 경우가 많기 때문에, 대부분의 앱 개발자들은 Google의 TensorFlow와 같은 주요 공급업체의 기존 프레임워크를 이용하는 경향이 있다.

모바일 DL 배포 교육 모델은 데이터와 컴퓨팅 모두에서 집약적이기 때문에[77] 스마트폰 개발자들은 앱 구축 전에 클라우드 서버에 오프라인으로 교육을 모델링하는 데 의존하는 경우가 많다. 앱 설치 시 훈련된 모델은 앱 설치 패키지의 일부로 배포된다. 런타임에 앱은 DL 프레임워크를 호출하여 훈련된 모델과의 추론을 수행하며, 따라서 얼굴 인식, 언어 번역 등의 AI 작업을 실행한다.

추론: 스마트폰에서 DL을 활성화하는 온클라우드 대 온디바이스, 모델 추론을 클라우드로 오프로드하거나 스마트폰에서만 실행할 수 있다. 클라우드로의 오프로딩은 SaaS(Software-as-a-Service, Software-as-a-Service)의 고전적인 사용 사례로, 이전 작업에서 잘 연구되어 왔다[44, 65, 89, 105]. 모바일 기기는 풍부한 데이터 센터 리소스를 서버급 GPU로 투명하게 활용하여 데이터를 업로드하고 추론 결과를 검색한다. 그러나 기기 내 DL 추론은 개인 정보 보호 강화, 인터넷 연결 불량에 대한 복원력, 앱에 대한 클라우드 비용 절감이라는 독특한 장점 때문에 빠르게 인기를 얻고 있다.p 개발자 우리는 신문에 더 많은 증거를 제시할 것이다. 이 작품에서는 스마트폰에 대한 이러한 기기 심층 학습에 실증적 연구를 집중한다.

3가지 좋은 방법
3.1 연구목표
이번 연구의 목표는 스마트폰 앱이 야생에서 DL 기술을 어떻게 활용하고 있는지를 설명하는 것이다. 본 연구는 두 가지 유형의 주제에 초점을 맞추고 있다: i) DL과 ii) DL 프레임워크와 실제 사용되는 모델을 채택하는 스마트폰 앱이다. 따라서, 우리는 앱, 프레임워크, 그리고 모델들을 상징한다. 우리는 각각 4절과 5절에 결과를 제시할 것이다.
Scope Android가 스마트폰 출하량(2018년 2/4분기에 88%)의 대부분을 차지하고, 따라서 전체 스마트폰 앱 인구에 좋은 대용품을 제공하기 때문에, 우리는 분석 내용을 Android 앱에 집중한다[19]. Google Play에서 검색한 데이터 세트 이 작업에 사용된 전체 데이터 세트 저장 Google Play1에서 정의한 33개 카테고리 각각에서 가장 많은 다운로드를 받는 500대 무료 앱으로 구성된 총 16,500개의 앱을 선택한다. 우리는 2018년 6월과 2018년 9월에 서로 다른 순간에 두 개의 데이터셋을 기어다녔다. 두 개의 앱 데이터 세트에 중복된 앱이 2/3 이상 있다. 각 앱에 대해 우리는 apk 파일을 다운로드하고 분석을 위해 Google Play 웹 페이지에서 메타 정보(예: 앱 설명 및 사용자 등급)를 탐색한다. NAT의 분석은 새로운 데이터셋(예: 2018년 9월)과 두 데이터셋 간의 차이(별도로 명시되지 않은 경우)

3.2 워크플로우 개요
우리는 대규모 안드로이드 앱에 대한 연구목표를 가능하게 하는 분석 툴을 설계하고 구현한다. 도구는 그림 1과 같이 반자동 방식으로 작동한다. 분석 도구의 첫 번째 단계는 주어진 안드로이드 앱 세트 중 DL 앱을 입력으로 식별하는 것이다. 이는 DL 스니퍼라는 모듈을 통해 달성된다. DL 스니퍼의 핵심 아이디어는 DL의 사용법을 직접 찾아내는 대신 인기 있는 DL 프레임워크의 사용법을 탐지하는 것이다. DL 앱을 식별한 후 해당 앱에 대한 분석을 수행한다. 분석하는 동안, 툴 apt [4]를 통해 DL 앱에서 추출한 매니페스트 파일을 사용하며, 메타 정보는 해당 Google Play 웹 페이지에서 기어나온다. 매니페스트 파일에는 패키지 이름, 앱 버전, 필요한 권한 등과 같은 정보가 포함된다. 웹 페이지에는 앱 설명, 사용자 등급, 앱 개발자 등의 정보가 포함되어 있다.

분석 도구는 DL 앱에서 DL 모델을 추가로 추출한다. 이 추출은 모델 추출기라는 모듈을 통해 이루어진다. DL 모델을 추출한 후 분석한다. 그러나, 우리는 모델들이 대부분 다른 형식이라는 도전에 직면해 있다. 개발자들은 표준화된 모델[26]을 설계하는 것과 같이 서로 다른 모델 포맷을 통합하는 데 상당한 노력을 투자하고 있지만, DL 프레임워크의 생태계는 여전히 깨지고 단편화되어 있다. 따라서, DL 모델의 내부 구조를 조사할 때, 우리는 실질적으로 다른 프레임워크의 사용 가능한 도구와 소스를 활용한다. 다행히 우리가 조사한 틀(표 2의 세부사항)은 대부분 공개 소스여서 문서화가 잘 되어 있다. DL 스니퍼와 모델 추출기에 대한 자세한 내용은 섹션 4.1과 섹션 5.1에서 각각 설명하십시오.

4 응용 분석
이 섹션에서는 스마트폰 DL 앱에 대한 분석을 소개한다. 먼저 4.1절에서 우리의 방법론을 설명한 다음
DL 애플리케이션의 세 가지 주요 측면:
• DL 앱의 특징(제4.2조): DL 앱의 인기, 비 DL 앱과의 차이 및 개발자.
• DL의 역할 (제4.3조): 앱에서 널리 사용되는 DL의 사용, DL 앱의 범주 및 DL이 이미 핵심으로 사용되었다는 증거
앱 블록 구성
• DL 프레임워크 분석(제4.4조): 어떤 프레임워크를 사용하는지, 비용 및 시간에 따른 채택 추이.

4.1 방법론: DL 앱 찾기

DL Sniffer는 분석 도구의 일부로 apk 파일을 입력으로 가져가고, 그 중 DL 기법을 사용하는 파일을 출력한다.
DL 사용 감지가 어려운 대신 DL 스니퍼는 주로 Android 지원 기능이 있는 인기 DL 프레임워크의 사용을 감지한다. 현재 DL Sniffer는 TensorFlow, Caffe, TFLite 등 16가지 인기 DL 프레임워크의 탐지를 지원하며, 이러한 프레임워크의 세부사항은 섹션 4.4 & 표 2에 제시될 것이다. DL Sniffer는 두 가지 방법을 사용하여 DL 프레임워크의 사용을 채굴한다: (1) 네이티브 C++ API를 제공하는 사람들을 위해 DL Sniffer가 apk 파일을 먼저 분해한다.ia Apktool [5]에서 기본 공유 라이브러리(접미사 ".so"). 포함)를 추출하십시오. 그런 다음 DL Sniffer는 해당 라이브러리의 lodata 섹션에서 특정 문자열을 검색한다. 그러한 문자열은 해당 프레임워크의 식별자로 간주될 수 있으며, 우리에 의해 사전에 정의된다. 예를 들어, TensorFlow를 사용하는 공유 라이브러리에 항상 "TF_Allocate"가 있는 것을 알 수 있다.그것의 lodata 섹션에 있는 텐서." (2) DL Sniffer는 먼저 apk 파일을 dex2jar [14]를 통해 smali 코드로 변환한다. 안드로이드의 다비크 VM에서 사용하는 DEX 바이너리의 분해된 버전인 smali code는 정적 프로그램 분석을 수행할 수 있게 해준다. DL Sniffer는 smali code의 class/method name을 정적으로 통과하여 특정 API가 존재하는지 확인한다. 예를 들어, MultiLayerConfiguration 클래스는 DeepLearning4J 프레임워크를 포함하는 거의 모든 앱에서 사용된다.

DL 프레임워크의 활용도를 검출하는 것 외에도, 표 2에 기재된 프레임워크를 이용하지 않는 DL 어플리케이션(본 작품에서는 "no lib"라고 한다)도 파악해 본다. 마찬가지로, 이것은 위에서 언급한 대로 네이티브 라이브러리의 로다타 부분에 있는 특정 문자열을 검색함으로써 얻어지지만, 여기서 사용하는 문자열은 기존 프레임워크에서 추출되는 것이 아니라 "신경망", "콘볼루션", "lstm" 등과 같이 사전에 정의되어 있다. 그런 다음 역공학을 통해 검출 정확성을 수동으로 확인하여 DL 사용량이 실제로 없는 것을 필터링(거짓 긍정)한다. 이 수동 점검은 앞서 언급한 접근법을 사용하여 검출된 다른 DL 앱에서도 수행되어 DL 식별의 정확성을 확보한다.

4.2 DL 앱의 특성
• DL이 스마트폰에서 인기를 얻고 있는가? 조사 기간(2018년 6월~2018년 9월)에 걸쳐 총 DL 앱 수는 166개에서 211개로 27.1% 증가했다. 우리는 DL 앱의 새로운 다운로드와 리뷰를 2018년 9월 한 달 안에 더 조사한다. 그 기간 동안 221개의 DL 앱은 약 13만 번 다운로드 받고 960만 건의 새로운 리뷰를 받는다. 그 결과는 오늘날 상당수의 스마트폰이 DL 앱을 실행하고 있다는 것을 보여준다.

• DL 앱이 비DL 앱과 어떻게 다른가?
우리는 다음 세 가지 측면을 조사하며, 그림 2에 예시된 결과를 가지고 있다. 다운로드와 리뷰는 앱의 인기를 대표한다. 관측한 바와 같이 DL 앱의 다운로드와 리뷰의 중간 수는 각각 5000,000건과 41,074건으로 비DL 앱, 즉 각각 10만건과 1,036건보다 훨씬 많다. 우리는 또한 해당 카테고리에 속하는 각 DL 앱의 다운로드 순위를 세어본다. 이 랭킹의 중위수는 각 카테고리별 총 500개 앱 중 89개다. 위의 통계는 상위 앱이 모바일 앱에 DL을 구현하는 조기 채택자라는 강력한 증거로 간주한다. 이러한 현상은 DL을 야생에서 작동시키려면, 매력적이기는 하지만, 많은 공학적 노력이 필요하다는 것을 설명할 수 있다. 스마트폰에서 DL 기능을 개발하는 사이클은 모델 구성, 데이터 수집, 모델 교육, 오프라인/온라인 테스트 등을 포함한다. 따라서, 많은 소규모 회사나 개인 개발자들은 그들의 앱에서 DL을 이용할 수 있는 자원이 부족하다.

등급은 사용자들이 앱에 얼마나 많은 감상을 하는지 보여준다. 그림에는 DL 앱과 비DL 앱이 사용자와 유사한 등급으로 중위수가 4.3인 것으로 나타나 있다.

앱 크기: 그림 2와 같이 DL 앱은 비 DL 앱보다 apk 파일이 훨씬 더 크다(미디어 번호: 35.5MB vs 12.1).이는 DL이 DL 프레임워크와 모델을 앱에 추가하는 것뿐만 아니라 앱의 기능이 훨씬 더 풍부하다는 것을 자신 있게 나타내므로 합리적이다.

• DL 앱 개발자는 누구인가?
우리는 또한 DL 앱의 개발자들을 연구한다. 그 결과 확인된 211개의 DL 앱은 172개의 개발자(회사)에 속하며, 그 중 27개의 개발자가 둘 이상의 DL 앱을 가지고 있다. 대부분의 DL 앱을 가진 개발자는 "Google LLC"(10)와 "Fotoable,Inc"(6)이다. 우리는 많은 대기업들이 구글, 어도비, 페이스북, 카카오, 마이투 등을 포함한 하나 이상의 DL 앱을 소유하고 있는 것을 관찰한다. 이는 이들 대기업들이 DL을 자사 제품에 채택하는 선구자임을 시사한다. 우리는 또한 같은 개발자의 DL 어플리케이션들이 종종 동일한 DL 프레임워크를 가지고 있다는 것을 알아차린다. 예를 들어, Fotoable Inc.의 4개 제품은 DL 기술을 지원하기 위해 libncnn_style.0.2.so이라는 정확히 동일한 네이티브 라이브러리를 사용한다. 이는 DL 프레임워크와 심지어 DL 모델도 쉽게 재사용할 수 있기 때문이다. 즉, 개발자의 엔지니어링 노력을 줄일 수 있는 DL 기법의 좋은 특성이다.


4.3 애플리케이션에서 DL의 역할

• DL의 일반적인 용도는?
DL에서 수행하는 역할을 이해하기 위해 여러 앱에서 DL의 사용을 수동으로 분류한다. 앱 설명과 앱 내용을 살펴봄으로써 이를 실현한다. 그 결과는 표 1에 나와 있다. 각각의 앱은 하나 이상의 사용법을 가지고 있으며, 용도는 서로 다른 두 가지 레벨로 표시된다(간단하고 상세). DL 사용을 확인할 수 없어 10개의 앱이 누락되었다.

전반적으로 이미지 프로세싱은 스마트폰에서 DL을 가장 많이 사용하는 것으로 텍스트 및 오디오 처리(149 대 26 & 24)보다 훨씬 많다. 컴퓨터 비전은 DL이 혁명을 시작하는 분야로서 [68] 이후 이 분야의 발전이 지속되어 왔기 때문에 이것은 놀라운 일이 아니다[76]. 자세한 것은 사진미용(97)과 얼굴검출(52)이 대부분 DL 앱에서 널리 사용되고 있는데, 사진편집이나 사진미화용 카메라 앱에서 주로 찾아볼 수 있다. 텍스트 분야에서는 단어 & 이모지 예측(15)과 자동수정(10)도 인기인데, 보통 GBoard와 같은 입력방식 앱에서 찾아볼 수 있다. 오디오 처리를 위해 DL은 주로 음성 인식(14)에 사용된다. 이외에도 쇼핑 앱에서 흔히 볼 수 있는 추천(11) 등 다른 용도가 있다.


DL 앱은 어떤 범주에서 오나? 그림 3은 서로 다른 범주의 DL 앱 수를 요약한 것이다. 관찰한 바와 같이, 거의 29%의 DL 앱이 카테고리 사진에 있으며, 모두 이미지 처리에 DL을 사용한다. 소셜 카테고리는 총 23개의 DL 앱이 있는 또 다른 핫스팟으로, 이 중 78%는 이미지 처리에 DL을 사용하는 반면 다른 이들은 텍스트, 오디오 등에 사용한다. 생산성의 범주에는 13개의 DL 앱도 포함되어 있지만, 대부분이 텍스트 처리에 DL을 사용한다. 전체적으로 보면 상위 500대 중 11개 카테고리의 DL 앱이 5개 이상이나 되는 등 다소 다양한 DL 활용도를 볼 수 있다. 그러한 다양성은 DL 기법의 좋은 일반성에 기여한다.

의미: 우리의 연구결과는 특정 유형의 앱, 특히 사진미가 있는 앱 개발자들이 DL을 채택하도록 장려한다. 우리의 연구결과는 또한 앱에서 인기 있는 용도에 맞는 상위 수준의 추상화 안에서 DL 알고리즘을 캡슐화하는 동기를 부여한다. 예를 들어 센스타임과 같은 회사들은 이미 DL 기반의 얼굴 탐지 라이브러리를 앱 개발자들에게 발송하기 시작했다. DL 모델과 프레임워크의 세부사항을 가려내면서, 그러한 추상화는 DL을 개발자들에게 더 친근하게 만들 것이다.

DL은 핵심 건물 블록인가? 또한 각 DL 사용량에 핵심 기능 또는 그렇지 않은 것으로 수동으로 태그를 지정한다. (1) 핫: DL 기능은 사용자가 앱을 열고 사용할 때마다 매번 호출될 가능성이 매우 높은 경우에만 DL 기능을 앱의 핵심 기능으로 정의한다. (2) 필수 사항: DL 기능이 없으면 애플리케이션의 주요 기능이 심각하게 손상되거나 심지어 사용할 수 없게 된다. 예를 들어, 텍스트 인식의 DL은 사용자가 이미지를 텍스트로 변환하는 데 도움이 되는 스캐너 앱(Adobe Scan)에서는 핵심 기능으로 취급되지만 ID 카드를 식별하기 위해 스캔하는 결제 앱(Alipay)에서는 취급하지 않는다. 마찬가지로 포토뷰티 DL은 카메라 앱(Meitu)에서는 핵심 기능으로 취급되지만 소셜 앱에서는 다루지 않는다(Facebook Messenger Kids).

전체적으로 211개(81%) 앱 중 171개가 DL을 사용해 핵심 기능을 지원한다. 구체적으로는 포토뷰티(96.9%)와 페이스검출(84.6%)이 주로 포토&카메라 앱에 사용되기 때문에 사용이 필수적이다. 마찬가지로 단어 & 이모지 예측(100%)과 자동 수정(100%)은 키보드 앱에서 핵심 기능으로 취급되어 사용자가 보다 효율적이고 정확하게 입력할 수 있도록 도와준다. 그러나 추천(18.1%)은 쇼핑 앱 등 타인에 대한 보완적 기능으로 제공되기 때문에 핵심 기능으로 취급되지 않는 경우가 많다.

4.4
섹션 2에서 언급했듯이, DL 프레임워크는 DL 채택에 매우 중요하다. 대부분의 개발자들은 이러한 프레임워크를 사용하여 DL 애플리케이션을 구축하기 때문이다. 이 절에서는 이러한 프레임워크가 DL 앱에서 어떻게 사용되는지 조사한다. 숫자, 크기, 연습 등


인기 있는 DL 프레임워크에 대한 개요 먼저 인기 있는 DL 프레임워크에 대한 조사를 하고, 그 결과는 표 2에 요약되어 있다. 우리는 그들의 인기를 위해 21개의 프레임워크를 선택한다. 예를 들어 GitHub의 
포크나 스타들은 StackOverflow와 다른 인터넷 채널에서 주목을 받았다. 그 21개의 프레임워크 중에서, 16개의 프레임워크가 자바(Android의 공식 언어)와/또는 C++(교차 컴파일을 통한 원주민 지원)를 통해 안드로이드 플랫폼을 지원한다. 대부분은 오픈 소스인 반면, 다른 것들은 이진 SDK(SNPE, CoreML)로 대중에게 제공되거나 제공자의 (협업자) 자체 제품(xNN, 앵무새)에 의해서만 접근이 가능하다. 그들 대부분은 모델 파일을 저장하고 표현하기 위해 사용자 정의 형식을 사용하지만, 일부는 프로토Buf[29]와 같은 기존 접근방식을 활용한다. 또한 모바일 앱용으로 특별히 설계되었지만 교육 지원 백엔드(ncnn, FeatherCNN, MACE 등)가 없는 경량 DL 추론 프레임워크에 대한 추세가 눈에 띈다. 이러한 프레임워크는 DL 모델을 훈련시킬 수는 없지만 텐서플로 또는 카페와 같은 다른 프레임워크를 통해 사전 훈련된 모델로 예측할 수 있다. 우리의 이후의 분석은 DL 프레임워크의 개방성에 크게 의존한다는 점에 유의하십시오. 기존 도구를 사용하여 텐서플로 같은 DL 모델을 분석하거나 시각화하거나, ncn과 같은 개방형 코드를 기반으로 분석할 수 있는 자체 해석 스크립트를 구축할 수 있다.

• DL 프레임워크의 채택은? 그림 4에서 요약한 바와 같이 2018년 9월에 가장 많이 사용되는 DL 프레임워크는 총 DL 앱 수의 거의 50%에 기여하기 때문에 TensorFlow(51), TFLite(31), ncnn(28)이다. 다른 인기 있는 틀로는 카페, 앵무새, 그리고 카페2가 있다. 우리는 6개의 지배적인 틀에서 다음과 같은 몇 가지 관찰을 했다.
(1) 이 모든 프레임워크는 대기업(예: 구글), AI 유니콘(예: 센스타임) 또는 유명 대학(예: 버클리)에 의해 개발된다.

(2) 이 6개의 프레임워크 중 5개는 소비자에게 SDK로 제공되는 앵무새를 제외하고 오픈 소스다. 사실 개방성은 [96]을 상정하고 있기 때문에 기계학습, 특히 DL사회에서 이미 중요한 특징이라고 생각된다. 그것은 개발자들이 최첨단 과학 알고리즘을 재현하고 개인 용도에 맞게 커스터마이징하는 것을 돕는다. 그 결과, 예를 들어, TensorFlow는 2018년 10월까지 1,670명 이상의 기부자를 보유하고 있으며, 이는 구글 커뮤니티를 훨씬 능가한다.

(3) Caffe와 TensorFlow를 제외한 대부분의 프레임워크(6개 중 4개)는 스마트폰에 최적화되어 있다. 이러한 모바일 DL 프레임워크는 일반적으로 모바일 기기를 위해 특별히 설계되고 개발된다.
백엔드 교육을 받지 않고도 결과 라이브러리를 보다 빠르고 경량화할 수 있다. 예를 들어, TFLite는 TensorFlow에서 유래하지만 가장자리 장치를 위해 설계되었으며 TensorFlow보다 추론 시간이 낮고 라이브러리 크기가 작다고 보고되었다[110]. 그러한 인기 있는 프레임워크 외에도, 우리는 표 2에서 어떤 프레임워크도 사용하지 않는 34개의 DL 어플리케이션을 식별한다. 이 앱들은 DL 기능을 지원하기 위해 자체 개발한 엔진을 사용한다.

• 모바일 DL 프레임워크가 관심을 끌고 있는가? 그림 4에서 보듯이 TFLite, ncnn 등 스마트폰에 최적화된 DL 프레임워크가 빠르게 인기를 끌고 있다. 즉, TFLite 기반 DL 앱이 12개에서 31개로 늘어났고, ncnn 애플리케이션은 21개에서 28개로 늘었다. 모바일 DL 생태계의 트렌드로 간주되는 고객: 모델을 오프라인으로 교육하려면 개발자 친화성과 기능 완전성에 초점을 맞춘 크고 성숙하며 일반적인 프레임워크를 사용하십시오. 에지 디바이스에 모델을 배포하려면 성능(기준 대기 시간, 메모리 설치 공간 및 라이브러리 크기)에 초점을 맞춘 모바일 지향 프레임워크로 전환하십시오.
모바일 앱의 DL 체크인 및 체크아웃 동작에 대해서도 조사한다. 체크인 DL 앱은 이전 버전(2018년 6월)에서 DL 사용이 없는 앱으로 정의하지만, 새로운 버전(2018년 9월)에서는 DL 사용을 추가하고, 체크아웃은 그 반대로 추가한다. 가장 인기 있는 데이터셋을 기어다니기 때문에 두 데이터셋의 앱 리스트는 동일하지 않지만, 인기는 변하고 있다는 점에 유의하십시오. 따라서 우리는 두 목록에 모두 존재하는 앱(총 11,710개)만을 고려하고, 그 결과를 그림 5로 결론짓는다. 관찰한 바와 같이, 새로운 버전의 190개 DL 앱 중 48개가 2018년 6월에서 2018년 9월 사이에 체크인된다. 우리는 또한 이전 버전에 있는 일부 DL 앱들이 체크아웃을 했지만 그 수는 훨씬 적은 것을 알아차렸다(5). 체크아웃의 이유는 개발자가 해당 기능을 제거하거나 다른 접근방식으로 DL을 교체하기 때문일 수 있다. 전반적으로.
통계는 DL 기법이 모바일 앱에서 점점 더 채택되고 있다는 사실을 뒷받침한다.

• 프레임워크의 스토리지 오버헤드는? 그림 6은 DL libs의 크기, 즉 DL 프레임워크의 물리적 화신을 보여준다. 그림과 같이 DL libs의 평균 크기는 7.5이다.MB, 비 DL libs에 비해 거의 6배 여기서는 DL 앱 내에서 발견되는 비 DL Libs만 사용한다. 그 결과에 따르면 DL libs는 훈련 백엔드 없이 DL 기능을 구현하는 것이 상당히 복잡하기 때문에 일반적으로 비 DL libs보다 무겁다. 다른 프레임워크를 들여다보면, TensorFlow와 Caffe를 사용하면 더 큰 DL libs, 즉 15.3이 된다.MB 및 10.1MB는 각각 5MB 이하인 반면 다른 MB는 모두 5MB 미만이다. 그 이유는 텐서플로 및 카페의 모바일 지원은 원래 프레임워크에서 포팅되어 있으며, 그것들로부터 코드베이스를 실질적으로 재사용하기 때문이다. 그러나 이 두 가지 프레임워크는 분산된 클라우드 DL을 위해 설계된다. 이에 비해 그림 6의 다른 프레임워크는 우수한 성능을 목적으로 모바일 기기를 위해 특별히 설계되었다.


하나의 앱은 여러 개의 DL 프레임워크를 통합할 수 있다. 놀랍게도, 우리는 24개의 DL 앱이 둘 이상의 DL 프레임워크를 포함하고 있다는 것을 발견했다. 예를 들어 중국에서 가장 인기 있는 결제 앱인 알리페이에는 xnn과 ncnn이 모두 들어 있다. 이러한 프레임워크를 동시에 로드해야 할 때 apk 크기와 메모리 풋프린트를 불필요하게 증가시키기 때문에, 우리는 그러한 다중 사용을 (잠재적으로) 나쁜 관행으로 간주한다. 우리의 통계에 따르면, 오버헤드는 5.4이다.MB, 총 apk 크기에 평균 13.6% 기여 대부분의 DL 프레임워크는 상당히 일반적이며 다양한 유형의 DL 모델을 지원할 수 있기 때문에 이러한 오버헤드는 하나의 프레임워크에 기초하여 다른 작업을 실행함으로써 피할 수 있다. 그렇지 않더라도 누락된 형상을 지원하기 위해 쉽게 확장할 수 있다[1]. 이런 다용도 행위의 이유는 두 가지로 나눌 수 있다. 첫째, 하나의 앱은 다른 엔지니어(그룹)에 의해 개발될 수 있으며, 이들은 자신의 DL 목적을 위해 다른 프레임워크를 도입한다. 둘째로, 개발자들은 하나의 DL 구현에서 기존의 코드와 모델을 병합하지 않고 특정 작업에 대해 기존 코드와 모델을 재사용할 수 있다.

의미: 우리의 연구결과는 모바일 DL 프레임워크의 장점과 인기를 강조하여, 그것들에 대한 더 많은 최적화를 장려한다. 우리의 연구 결과는 또한 DL 알고리즘의 화신을 선택할 때 이러한 프레임워크를 우선적으로 고려하도록 애플리케이션 개발자들에게 동기를 부여한다.


5 모델 분석
이 절에서는 DL 기법의 모델 레벨 분석에 초점을 맞춘다.
먼저 방법론 세부사항(예: 5.1절의 모델 추출기 설계)을 설명한다. 그런 다음, 이러한 DL 모델에 대한 분석 결과를 세 가지 주요 측면에서 보여 준다.
• DL 모델의 구조: 사용된 모델 유형, 레이어 유형 및 최적화(섹션 5.2)
• DL 모델의 리소스 설치 공간: 스토리지, 메모리, 실행 복잡성 등(섹션 5.3)
• DL 모델의 보안: 난독화 및 암호화를 사용하여 모델을 도난으로부터 보호(섹션 5.4)

5.1 모델 추출기: DL 모델 찾기
당사의 분석 툴(제3.2절)의 일부로, 모델 추출기는 이미 입력으로 식별된 DL 앱을 취하여 각 앱에 사용되는 DL 모델을 출력한다. Model Extractor는 분해된 각 DL 앱의 자산 폴더를 검사하여 내부의 각 모델 파일을 검증하려고 시도한다. DL 프레임워크는 모델 파일을 저장하는 데 서로 다른 형식을 사용하기 때문에, 모델 추출기는 지원되는 각 프레임워크에 대한 검증자를 가지고 있다. 그러나 많은 모델이 apk 파일 내부에 일반 텍스트로 저장되지 않는 것을 관찰한다. 예를 들어, 일부는 스토리지에서 암호화되며, 앱이 기기에서 실행될 때 암호 해독된다. 이러한 경우, 모델 추출기는 앱을 역설계하고 분석 가능한 모델을 추출하려고 한다. 
전반적인 결과 우리는 가장 인기 있는 프레임워크(예: TFLite, TensorFlow, ncnn, Caffe 또는 Caffe2)를 기반으로 DL 모델을 추출한다. 요약하면, 우리는 71개의 DL 앱에서 나온 176개의 DL 모델을 성공적으로 추출한다. 다른 DL 앱에서 모델을 추출할 수 없는 이유는 (i) 모델이 apk 파일에 잘 보호되고 숨겨져 있을 수 있으며, (ii) 런타임 동안 모델을 인터넷에서 검색하기 때문일 수 있다. 추출한 모델 중 98개를 분석할 수 있는데, 이 중 42개의 DL 앱에서 나온 것이다. (i) 해당 프레임워크가 오픈 소스가 아니므로, (ii) 해당 프레임워크가 암호화되어 있기 때문에, (i) 모델이 Parrots 기반 모델과 같이 우리가 통찰할 수 없는 형식이기 때문에, 현재 우리의 프레임워크를 통해 다른 추출된 모델들을 구문 분석할 수 없다.

5.2 모델 구조
• DL 모델 종류 추출한 DL 모델 중 87.7%는 CNN 모델, 7.8%는 RNN 모델, 나머지는 아직 확인되지 않았다. 
CNN 모델은 대부분 마법사/비디오 처리와 텍스트 분류에 사용된다. RNN 모델은 워드 예측, 번역, 음성 인식 등과 같은 텍스트/음성 처리에 주로 사용된다. CNN 모델은 이미지에서 시각적 특성을 잘 포착하고, RNN 모델은 텍스트, 오디오 등 시간적 관계로 순차적 데이터를 처리하는 데 강력하다는 것이 일반적인 통념과 일치한다.
• DL 레이어 유형 DL 모델에서 사용되는 다양한 유형의 레이어를 특징으로 한다. 표 3과 같이, 콘볼루션(convolution)이 가장 많이 사용되는 유형이다. 87.7%의 모델은 1개 이상의 용해 층을 가지고 있으며, 이러한 모델에 사용되는 용해 층의 중위수(평균) 수는 5개(14.8개)이다. 이는 concolution이 cnn 모델의 핵심이고 cnn은 비전 작업에 사용되는 지배적인 모델 구조이기 때문에 놀라운 일이 아니다. 우리의 이전 분석은 이미 이미지 처리가 모바일 DL의 가장 인기 있는 사용 사례라는 것을 보여준다. 마찬가지로, 풀링은 76.5% DL 모델에 포함된 CNN 모델에서도 중요한 레이어 유형이다. 게다가 소프트맥스(69.1%)도 자주 사용되지만, 한 가지 모델에서는 반복적으로 나타나지 않는다. 이는 소프트맥스 계층이 대개 DL 모델의 끝에 상주하여 확률을 출력으로 얻기 때문이다. 이에 비해 완전 연결(fc) 레이어는 덜 일반적이며, 60.5% DL 모델에서만 사용된다. 가능한 한 이유는 완전히 연결된 계층이 매우 매개변수 및 계산 집약적인 것으로 알려져 있으며, 콘볼루션과 같은 다른 계층으로 대체될 수 있기 때문이다[18]. 자주 사용되는 다른 계층 유형으로는 추가, 분할, 다시 실행, 사전 유출 및 재구성 등이 있다.

의미: 우리의 연구결과는 모바일 DL을 최적화하는 데 관심이 있는 프레임워크와 하드웨어 공급업체가 예를 들어 convolution과 같은 구축 모델에서 발견한 인기 있는 DL 레이어에 집중할 수 있도록 동기를 부여한다. 또한 DL 모델의 소수(5개)가 맞춤형 레이어 유형을 포함하고 있음을 알 수 있다. 이러한 맞춤화는 기존 DL 프레임워크의 확장으로서 이루어진다[1]. 그 결과는 현재의 DL 프레임워크의 기능이 대부분 충분히 완성되었음을 나타낸다.
• 모델 최적화 크기 및 계산 복잡성을 고려하여 DL 모델을 최적화하기 위한 다양한 기법이 제안되었다. 여기서, 우리는 야생에서 가장 인기 있는 두 가지 기술의 사용, 즉 계량화와 스파르타이를 연구한다. 정량화는 각 중량을 나타내는 데 필요한 비트 수를 줄임으로써 DL 모델을 압축한다. 정량화는 16비트 [59], 8비트 [100], 심지어 1비트 [51, 88] 등 수준이 다른 반면, 원래 모델은 보통 32비트 부동 소수점으로 표시된다. Sparsity [75, 102]는 또한 소형 DL 모델을 만들기 위한 효과적인 접근방식으로 이전 문헌에서 광범위하게 연구되었다. 주로 매트릭스 곱셈과 구불구불한 층에 사용되어 파라미터를 감소시킨다. 그러한 최적화는 모델 정확도를 훼손하지 않고 DL 비용을 최대 2단계까지 절감하는 것으로 오래 전부터 알려져 있다[61].

5.3 모델 리소스 풋프린트
• 모델 크기. 그림 7은 (저장소에 있는) DL 모델의 크기를 나타낸다.
전반적으로, 추출된 DL 모델은 매우 작은 중위수임을 알 수 있다. 1.6MB, 평균: 2.5MB)는 VGG-16[95] (약 500MB) 및 MobileNet[67] (약 16MB)과 같은 고전 모델과 비교된다. 텐서의 모델플로우 형식(미디어: 3.2)MB)는 TFLite(중간: 0.75MB), ncnn(중간: 0.86MB)과 같은 다른 형식의 모델보다 상대적으로 크다.

• 런타임 오버헤드 그런 다음 DL 모델의 런타임 성능을 연구한다. 여기서 우리는 기억과 연산이라는 두 가지 측면에 초점을 맞춘다. 메모리 사용량에는 모델 파라미터와 생성된 중간 결과(기능 맵)가 모두 포함된다. 계산 복잡성을 위해, 우리는 하나의 추론 동안 부동 소수점 연산(FLOP)을 미터법으로 사용한다. 여기서는 일부 다른 모델에는 런타임에만 계산 복잡성을 결정할 수 있도록 이미지 크기 등 고정된 입력 크기가 없기 때문에 TensorFlow 및 ncnn 형식의 모델만 사용한다[15]. 우리는 또한 알렉스넷, 모바일넷 등과 같은 몇몇 다른 고전적인 CNN 모델들의 공연을 포함한다. 그림 8에서 볼 수 있듯이 검은색 십자가는 우리가 추출한 DL 모델을 나타내는 반면 빨간색 점은 전통적인 CNN 아키텍처를 나타낸다. 전반적으로, 결과를 보면, 야생 DL 모델은 메모리 사용량과 계산 복잡성을 고려할 때 매우 경량이며, 중간값은 각각 2.47MB와 10M FLOP이다. 모바일 프로세서에서 이러한 모델을 실행하는 것은 비용이 적게 든다. 예를 들어, SnapDragon 8452 의 CPU에서 추정된 바와 같이, 80% 모델의 실행 시간은 67 FPS로 변환되는 15ms 미만이다[33]. 비교하자면, 이미지 분류 작업의 최첨단 모델 중 하나인 ResNet-50은 약 200MB의 메모리 사용량과 4GFLOP의 연산을 가지고 있다. 모바일 시나리오에 맞게 설계되고 최적화된 MobileNet과 SqueezeNet도 우리가 발견한 모바일 DL 모델의 90%보다 더 많은 메모리 사용과 계산이 필요하다.
의미: 스마트폰에서 지배적인 경량 DL 모델의 발견은 애플리케이션 개발자들에게 귀중한 확신을 준다. DL 추론은 메모리 오버헤드 몇 MB와 수십 ms의 실행 지연만큼 저렴할 수 있다. 우리의 연구결과는 DL 추론에 대한 기존 연구에 도전하는데, DL 추론 연구는 일반적으로 완전 폭파 모델(예: VGG)을 중심으로 하며 이러한 모델에서 검증된다[53, 62, 70, 71, 78, 79]. DL 플랫폼으로서의 스마트폰의 중요성을 감안할 때, 향후 DL 알고리즘 제안에서는 경량 모델에 대한 적용 가능성을 고려하고 자원 제약을 제1종 관심사로 다루어야 한다.


5.4 모델 보안
마지막으로, DL 모델이 어떻게 보호되는지 조사한다. 우리는 모델 보호를 AI 시스템/앱 보안의 중요한 단계로 간주한다. 왜냐하면 공격자가 모델을 획득할 수 있다면 그들은 (i) 모델 파일을 재사용하여 지적 재산을 훔치거나 도난당한 모델을 기반으로 새 모델을 다시 교육할 수 있기 때문이다. (ii) 적대적 공격을 통해 DL 기반 앱을 쉽게 공격할 수 있기 때문이다[84]. 우리는 두 가지 실질적인 보호 메커니즘에 초점을 맞춘다.
• 난독화는 공격자가 개발자 정의 계층 이름 등 의미 있는 텍스트를 제거하여 모델 구조에 대한 통찰력을 얻는 것을 방지하기 위한 다소 얕은 접근법이다.
• 공격자가 모델 구조/매개변수를 얻는 것을 방지하여 보안에 있어 암호화가 우수하지만, 앱이 메모리 내 모델의 암호를 해독하는 데 불가피한 오버헤드를 발생시키기도 한다. 여기서, 우리는 암호화된 모델을 항상 난독화 되어있다고 생각한다. 

우리는 추출한 DL 모델에 난독화와 암호화가 어떻게 사용되는지 조사한다. Tensor를 사용하여 앱에서 추출한 DL 모델을 분석플로우, TFLite, ncnn, 카페2. 총 120 DL 모델의 보안 수준을 확인한다. 여기서 암호화는 반드시 암호화 알고리즘을 의미하는 것은 아니며, DL 프레임워크를 통해 모델을 구문 분석할 수 없도록 개발자가 모델 형식을 사용자 정의하는 사례도 포함하고 있다. 그 결과 120개의 DL 모델 중에서 47개(39.2%)의 모델이 난독화되어 있고 23개(19.2%)의 모델이 암호화되어 있는 것으로 나타났다. 이 두 세트의 앱이 겹쳐져 있다는 점에 유의하십시오. 암호화된 앱도 난독화 되어 있다. 그 결과 대부분의 DL 모델은 보호 없이 노출되므로 공격자가 쉽게 추출하여 활용할 수 있다. 실제로 표 2의 프레임워크 중 난독화를 지원하는 것은 거의 없으며, 예를 들어 ncnn은 모델을 모두 줄무늬가 있는 바이너리로 변환할 수 있으며, 메이스가 모델을 C++ 코드로 변환할 수 있다[11]. 더욱이 우리가 알고 있는 한 모델 암호화에 도움을 주는 프레임워크는 없다. 따라서 개발자는 비-개인 프로그래밍 오버헤드를 부과할 수 있는 자체 암호화/암호 해독 메커니즘을 구현해야 한다.

의미: 모델 보안의 암울한 상황은 스마트폰의 저작권 디지털 콘텐츠를 보호하는 것과 유사한 방식으로 독점 모델에 대한 강력한 보호를 요구한다[42, 82, 911, 108]. 따라서 새로운 툴, OS 메커니즘 및 정책, Intel SGX[21] 및 ARM TrustZone[7]과 같은 하드웨어 메커니즘 간의 시너지 효과가 필요하다.


6 한계와 미래 작업
분석 도구의 한계 가능한 한 많은 DL 앱을 캡처하도록 분석기를 주의 깊게 설계하고, 결과를 검증하기 위해 수작업으로 많은 노력을 기울이지만, 여전히 잘못된 식별을 할 수 있다. 예를 들어, 인기 있는 DL 프레임워크에 의존하지 않거나 기본 라이브러리에 문자열 패턴이 없는 DL 앱은 누락될 것이다. 게다가, DL 프레임워크를 통합했지만 실제로 사용하지 않는 앱들은 DL 앱으로 잘못 분류될 것이다. 하지만 이런 일은 일어나서는 안 된다. 첫 번째 경우에는 DL 구현의 코드 패턴을 채굴하여 DL이 포함될 수 있는 DL 앱을 더 많이 예측하는 데 사용할 계획이며, 두 번째의 경우에는 DL 라이브러리의 API 호출(싱크)이 호출되는지 여부를 검출할 수 있도록 고급 정적 분석 기법[43]으로 분석기를 더욱 강화할 계획이다.

장기 분석 현재, 2018년 6월과 9월에 얻은 앱 데이터 세트를 바탕으로 실증 연구를 실시하고 있다. 향후, 3개월에 한 번씩 더 많은 시간 단계로 확대하여 적극적으로 연구를 유지하고 업데이트할 계획이다. 우리는 그러한 장기적인 분석을 통해 더 확실하고 흥미로운 결과가 나올 수 있다고 믿는다. 우리는 또한 새롭게 부상하는 DL 프레임워크를 주시하여 분석 도구에 추가할 것이다.

더 많은 플랫폼 이 작업에서는 Android 앱의 DL 채택만 분석한다. 안드로이드는 모바일 생태계를 대표하는 회사지만, iOS와 Android Wear와 같은 다른 플랫폼에 대한 우리의 연구를 확장함으로써 더 흥미로운 발견을 할 수 있을 것이다. 우리는 서로 다른 플랫폼에서 DL 채택을 비교하는 것이 연구자와 개발자들에게 더 많은 시사점을 줄 수 있다고 믿는다.

동적 분석과 관련하여 현재 우리의 분석은 정적이다. 정적 분석 기술은 상당히 강력하지만, 우리는 동적 분석이 더 유용한 결과를 제공할 수 있다고 믿는다. 예를 들어, 기성 모바일 기기에서 DL 모델을 실행함으로써, 정확한 런타임 성능(예: 엔드 투 엔드 지연 시간 및 에너지 소비량)을 특성화할 수 있다.

7 관련 작업
이 절에서는 이 논문에서 우리의 작업과 관련된 기존의 문학 연구에 대해 논한다.

모바일 DL 모바일 기기는 유비쿼터스 특성 때문에 광범위한 고유 센서 데이터를 생성하여 DL 작업에 수많은 기회를 창출할 수 있다. 모바일 DL에 대한 이전의 노력은 주로 두 가지 범주로 요약할 수 있다. 첫째, 연구자들은 DL을 기반으로 수많은 새로운 응용 프로그램을 구축하였다[46, 72, 73, 80, 87].
예를 들어 MobileDeepPill [106]은 제약되지 않은 알약 이미지를 정확하게 인식할 수 있는 작은 발판 모바일 DL 시스템이다.
둘째, 자원이 제한된 모바일 장치에 대한 DL의 오버헤드를 줄이기 위해 다양한 최적화 기법이 제안되었다. 최적화에는 모델 압축[53, 62, 71, 78, 103], 하드웨어 사용자 정의[48, 50, 60, 107], 경량 모델[47, 67, 73, 101], 지식 증류[45, 66, 106], 클라우드 오프로딩이 포함된다[64, 70, 109]. 이러한 연구는 실제 작업 부하와 통찰력이 부족한 상태에서 VGGG 및 ResNet과 같은 고전적 모델을 기반으로 대개 실험실 환경에서 수행된다. 따라서, 우리의 작업은 DL을 모바일 기기에 도입하고, 학술 문학과 산업 제품 사이의 격차를 메우려는 엄청난 노력에 의해 동기 부여된다.

클라우드 서비스로서의 ML/DL은 기기 내 패션 외에 DL 기능 또는 더 넓은 범위의 머신러닝(ML)에서도 클라우드 서비스로 액세스할 수 있다. 서비스 제공업체로는 아마존[2], 구글[20], 마이크로소프트 아즈레[22] 등이 있다. 이러한 MLaaS(Machine Learning as a Service) 플랫폼에 초점을 맞춘 사전 분석 연구가 있다. 야오 외 [105] 인기 있는 MLaas 시스템의 효용성에 대해 포괄적으로 조사하여 사용자 제어가 증가하면 더 큰 위험이 있음을 발견한다. 다른 일부 문헌 연구[55, 93, 99]에서는 다른 유형의 공격을 향한 그러한 플랫폼의 보안 문제에 초점을 맞추고 있다. MLaaS 플랫폼은 지적 재산과 성능을 보호하는 데 있어 몇 가지 장점을 가지고 있다.
하지만 기기 내 패션에 비해 사생활에 대한 우려와 불안정한 접근성 등 일부 단점도 있다. 따라서 일부 DL 태스크는 키보드의 워드 프리젠테이션과 같이 로컬 장치에서 실행하기에 더 적합하다. 또한 기기 내 DL이 이미 많은 실제 앱에서 어느 정도 채택되어 있으며, 스마트폰에서도 인기를 끌 것이라는 것을 입증하고 있다.

DL 사전 경험적 분석에 대한 경험적 연구는 주로 개발자들이 더 나은 DL 애플리케이션/시스템/모델을 구축하도록 지원하는 데 초점을 맞추고 있다. Zhang 등[111]은 StackOverflow QA 페이지 및 GitHub 프로젝트를 마이닝하여 DL 프로그램의 결함(버그)을 특징으로 한다. 결과적으로, 결과는 오픈소스 소규모 프로젝트에서만 제한된다. Fawzi 외 연구진[54]은 관련 의사결정 경계뿐만 아니라 첨단 심층 네트워크의 위상 및 기하학적 구조를 분석한다. 시니어 외 [92] 확률적 경사 하강에서 사용되는 학습 속도가 훈련 성과에 어떤 영향을 미치는지 조사하여 적절한 학습 속도를 선택하기 위한 계획을 제안한다. 이러한 연구는 대부분 이전 문헌에서 제안된 고전 및 소규모 DL 모델에 초점을 맞추고 있는 반면, 우리의 연구는 대규모의 최신 모바일 앱에서 얻은 지식을 채굴한다. 

DL 모델 보호 DL 모델을 보호하기 위한 최근의 노력이 조사되었다. 예를 들어 DL 모델의 지적재산을 보호하기 위해 다양한 워터마킹 메커니즘[42, 82, 911, 108]이 제안되었다. 그러나 이러한 접근방식은 모델이 추출되고 공격받는 것을 보호할 수 없다. 더 가까운 단계로, 일부 연구자[58, 63, 98]는 Intel SGX[21]와 같은 안전한 실행 환경(SE)을 기반으로 DL 시스템/모델을 보호한다. 그러나, 그러한 기술들은 여전히 현장 배치에는 실용적이지 않다. 일부 DL 프레임워크는 또한 모델 보호를 위한 메커니즘을 제공한다. 예를 들어, Mace [24]는 개발자가 모델을 C++ 코드로 변환할 수 있도록 지원한다[11]. 그러나, 우리의 결과는 많은 수의 DL 모델들이 안전한 보호 없이 노출된다는 것을 보여준다.

8가지 결론
본작에서는, 연구와 실습을 잇는 가교로서, 실제의 스마트폰에서 딥러닝 기법이 어떻게 채택되고 있는지를 파악하기 위한 최초의 실증 연구를 실시했다. 정적 툴을 기반으로 한 대규모 안드로이드 앱을 채굴하고 분석함으로써 흥미롭고 가치 있는 발견에 도달했다. 예를 들어 모바일 딥러닝의 얼리 어답터들이 상위 앱이며, 이러한 앱에서 딥러닝이 수행하는 역할은 중요하고 핵심적이라는 것을 보여준다. 또한 개발자, 하드웨어 설계자 및 연구자를 포함한 모바일 생태계의 여러 이해당사자들에게 강력하고 귀중한 의미를 제공한다.
